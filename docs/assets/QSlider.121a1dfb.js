import{a as l,h as k,aa as je,a6 as Xe,y as T,A as Ye,ab as Ke,a7 as z,ac as Y,v as se,z as K,a9 as N,a8 as U,s as ve,r as _,o as Ue,G as Qe,g as fe,ad as He,ae as Q,c as Ge,w as We}from"./index.58722f7d.js";const Je={dark:{type:Boolean,default:null}};function Ze(a,r){return l(()=>a.dark===null?r.dark.isActive:a.dark)}function B(a,r,u){return u<=r?r:Math.min(u,Math.max(r,a))}const et={name:String};function tt(a){return l(()=>({type:"hidden",name:a.name,value:a.modelValue}))}function at(a={}){return(r,u,o)=>{r[u](k("input",{class:"hidden"+(o||""),...a.value}))}}function mt(a){return l(()=>a.name||a.for)}const G={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},rt=Object.keys(G);G.all=!0;function ie(a){const r={};for(const u of rt)a[u]===!0&&(r[u]=!0);return Object.keys(r).length===0?G:(r.horizontal===!0?r.left=r.right=!0:r.left===!0&&r.right===!0&&(r.horizontal=!0),r.vertical===!0?r.up=r.down=!0:r.up===!0&&r.down===!0&&(r.vertical=!0),r.horizontal===!0&&r.vertical===!0&&(r.all=!0),r)}function ce(a,r){return r.event===void 0&&a.target!==void 0&&a.target.draggable!==!0&&typeof r.handler=="function"&&a.target.nodeName.toUpperCase()!=="INPUT"&&(a.qClonedBy===void 0||a.qClonedBy.indexOf(r.uid)===-1)}function nt(){if(window.getSelection!==void 0){const a=window.getSelection();a.empty!==void 0?a.empty():a.removeAllRanges!==void 0&&(a.removeAllRanges(),je.is.mobile!==!0&&a.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function H(a,r,u){const o=N(a);let e,n=o.left-r.event.x,i=o.top-r.event.y,c=Math.abs(n),m=Math.abs(i);const d=r.direction;d.horizontal===!0&&d.vertical!==!0?e=n<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?e=i<0?"up":"down":d.up===!0&&i<0?(e="up",c>m&&(d.left===!0&&n<0?e="left":d.right===!0&&n>0&&(e="right"))):d.down===!0&&i>0?(e="down",c>m&&(d.left===!0&&n<0?e="left":d.right===!0&&n>0&&(e="right"))):d.left===!0&&n<0?(e="left",c<m&&(d.up===!0&&i<0?e="up":d.down===!0&&i>0&&(e="down"))):d.right===!0&&n>0&&(e="right",c<m&&(d.up===!0&&i<0?e="up":d.down===!0&&i>0&&(e="down")));let y=!1;if(e===void 0&&u===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};e=r.event.lastDir,y=!0,e==="left"||e==="right"?(o.left-=n,c=0,n=0):(o.top-=i,m=0,i=0)}return{synthetic:y,payload:{evt:a,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:o,direction:e,isFirst:r.event.isFirst,isFinal:u===!0,duration:Date.now()-r.event.time,distance:{x:c,y:m},offset:{x:n,y:i},delta:{x:o.left-r.event.lastX,y:o.top-r.event.lastY}}}}let lt=0;var ot=Xe({name:"touch-pan",beforeMount(a,{value:r,modifiers:u}){if(u.mouse!==!0&&T.has.touch!==!0)return;function o(n,i){u.mouse===!0&&i===!0?ve(n):(u.stop===!0&&K(n),u.prevent===!0&&se(n))}const e={uid:"qvtp_"+lt++,handler:r,modifiers:u,direction:ie(u),noop:Ye,mouseStart(n){ce(n,e)&&Ke(n)&&(z(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(n,!0))},touchStart(n){if(ce(n,e)){const i=n.target;z(e,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),e.start(n)}},start(n,i){if(T.is.firefox===!0&&Y(a,!0),e.lastEvt=n,i===!0||u.stop===!0){if(e.direction.all!==!0&&(i!==!0||e.modifiers.mouseAllDir!==!0)){const d=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&se(d),n.cancelBubble===!0&&K(d),Object.assign(d,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[e.uid]:n.qClonedBy.concat(e.uid)}),e.initialEvent={target:n.target,event:d}}K(n)}const{left:c,top:m}=N(n);e.event={x:c,y:m,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:c,lastY:m}},move(n){if(e.event===void 0)return;const i=N(n),c=i.left-e.event.x,m=i.top-e.event.y;if(c===0&&m===0)return;e.lastEvt=n;const d=e.event.mouse===!0,y=()=>{o(n,d),u.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),nt(),e.styleCleanup=h=>{if(e.styleCleanup=void 0,u.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),d===!0){const g=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{g(),h()},50):g()}else h!==void 0&&h()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(n,e.event.mouse);const{payload:h,synthetic:g}=H(n,e,!1);h!==void 0&&(e.handler(h)===!1?e.end(n):(e.styleCleanup===void 0&&e.event.isFirst===!0&&y(),e.event.lastX=h.position.left,e.event.lastY=h.position.top,e.event.lastDir=g===!0?void 0:h.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||d===!0&&e.modifiers.mouseAllDir===!0){y(),e.event.detected=!0,e.move(n);return}const S=Math.abs(c),b=Math.abs(m);S!==b&&(e.direction.horizontal===!0&&S>b||e.direction.vertical===!0&&S<b||e.direction.up===!0&&S<b&&m<0||e.direction.down===!0&&S<b&&m>0||e.direction.left===!0&&S>b&&c<0||e.direction.right===!0&&S>b&&c>0?(e.event.detected=!0,e.move(n)):e.end(n,!0))},end(n,i){if(e.event!==void 0){if(U(e,"temp"),T.is.firefox===!0&&Y(a,!1),i===!0)e.styleCleanup!==void 0&&e.styleCleanup(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(H(n===void 0?e.lastEvt:n,e).payload);const{payload:c}=H(n===void 0?e.lastEvt:n,e,!0),m=()=>{e.handler(c)};e.styleCleanup!==void 0?e.styleCleanup(m):m()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};a.__qtouchpan=e,u.mouse===!0&&z(e,"main",[[a,"mousedown","mouseStart",`passive${u.mouseCapture===!0?"Capture":""}`]]),T.has.touch===!0&&z(e,"main",[[a,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[a,"touchmove","noop","notPassiveCapture"]])},updated(a,r){const u=a.__qtouchpan;u!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&u.end(),u.handler=r.value),u.direction=ie(r.modifiers))},beforeUnmount(a){const r=a.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),U(r,"main"),U(r,"temp"),T.is.firefox===!0&&Y(a,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete a.__qtouchpan)}});const de="q-slider__marker-labels",ut=a=>({value:a}),st=({marker:a})=>k("div",{key:a.value,style:a.style,class:a.classes},a.label),me=[34,37,40,33,39,38],it={...Je,...et,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ct=["pan","update:modelValue","change"];function dt({updateValue:a,updatePosition:r,getDragging:u,formAttrs:o}){const{props:e,emit:n,slots:i,proxy:{$q:c}}=fe(),m=Ze(e,c),d=at(o),y=_(!1),S=_(!1),b=_(!1),h=_(!1),g=l(()=>e.vertical===!0?"--v":"--h"),I=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),M=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(c.lang.rtl===!0)),$=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),q=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),p=l(()=>e.disable!==!0&&e.readonly!==!0&&$.value<q.value),x=l(()=>(String(e.step).trim().split(".")[1]||"").length),L=l(()=>e.step===0?1:e.step),pe=l(()=>p.value===!0?e.tabindex||0:-1),E=l(()=>e.max-e.min),W=l(()=>q.value-$.value),F=l(()=>D($.value)),P=l(()=>D(q.value)),A=l(()=>e.vertical===!0?M.value===!0?"bottom":"top":M.value===!0?"right":"left"),J=l(()=>e.vertical===!0?"height":"width"),be=l(()=>e.vertical===!0?"width":"height"),Z=l(()=>e.vertical===!0?"vertical":"horizontal"),he=l(()=>{const t={role:"slider","aria-valuemin":$.value,"aria-valuemax":q.value,"aria-orientation":Z.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),ge=l(()=>`q-slider q-slider${g.value} q-slider--${y.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(p.value===!0?" q-slider--editable":""))+(b.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(m.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function R(t){const s="q-slider__"+t;return`${s} ${s}${g.value} ${s}${g.value}${I.value}`}function ee(t){const s="q-slider__"+t;return`${s} ${s}${g.value}`}const Ce=l(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),ke=l(()=>ee("markers")+" absolute overflow-hidden"),ye=l(()=>ee("track-container")),Se=l(()=>R("pin")),xe=l(()=>R("label")),Me=l(()=>R("text-container")),$e=l(()=>R("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),qe=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),we=l(()=>{const t={[be.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Le=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),te=l(()=>{const t={[A.value]:`${100*F.value}%`,[J.value]:`${100*(P.value-F.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function _e(t){const{min:s,max:v,step:f}=e;let C=s+t*(v-s);if(f>0){const w=(C-s)%f;C+=(Math.abs(w)>=f/2?(w<0?-1:1)*f:0)-w}return x.value>0&&(C=parseFloat(C.toFixed(x.value))),B(C,$.value,q.value)}function D(t){return E.value===0?0:(t-e.min)/E.value}function Be(t,s){const v=N(t),f=e.vertical===!0?B((v.top-s.top)/s.height,0,1):B((v.left-s.left)/s.width,0,1);return B(M.value===!0?1-f:f,F.value,P.value)}const ae=l(()=>He(e.markers)===!0?e.markers:L.value),re=l(()=>{const t=[],s=ae.value,v=e.max;let f=e.min;do t.push(f),f+=s;while(f<v);return t.push(v),t}),ne=l(()=>{const t=` ${de}${g.value}-`;return de+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${M.value===!0?"rtl":"ltr"}`}),V=l(()=>e.markerLabels===!1?null:Ee(e.markerLabels).map((t,s)=>({index:s,value:t.value,label:t.label||t.value,classes:ne.value+(t.classes!==void 0?" "+t.classes:""),style:{...oe(t.value),...t.style||{}}}))),le=l(()=>({markerList:V.value,markerMap:Fe.value,classes:ne.value,getStyle:oe})),Te=l(()=>{if(W.value!==0){const t=100*ae.value/W.value;return{...te.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Ee(t){if(t===!1)return null;if(t===!0)return re.value.map(ut);if(typeof t=="function")return re.value.map(v=>{const f=t(v);return Q(f)===!0?{...f,value:v}:{value:v,label:f}});const s=({value:v})=>v>=e.min&&v<=e.max;return Array.isArray(t)===!0?t.map(v=>Q(v)===!0?v:{value:v}).filter(s):Object.keys(t).map(v=>{const f=t[v],C=Number(v);return Q(f)===!0?{...f,value:C}:{value:C,label:f}}).filter(s)}function oe(t){return{[A.value]:`${100*(t-e.min)/E.value}%`}}const Fe=l(()=>{if(e.markerLabels===!1)return null;const t={};return V.value.forEach(s=>{t[s.value]=s}),t});function Ae(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](le.value);const t=i["marker-label"]||st;return V.value.map(s=>t({marker:s,...le.value}))}const Re=l(()=>[[ot,ze,void 0,{[Z.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ze(t){t.isFinal===!0?(h.value!==void 0&&(r(t.evt),t.touch===!0&&a(!0),h.value=void 0,n("pan","end")),y.value=!1,b.value=!1):t.isFirst===!0?(h.value=u(t.evt),r(t.evt),a(),y.value=!0,n("pan","start")):(r(t.evt),a())}function ue(){b.value=!1}function Ne(t){r(t,u(t)),a(),S.value=!0,y.value=!0,document.addEventListener("mouseup",O,!0)}function O(){S.value=!1,y.value=!1,a(!0),ue(),document.removeEventListener("mouseup",O,!0)}function Ie(t){r(t,u(t)),a(!0)}function Pe(t){me.includes(t.keyCode)&&a(!0)}function De(t){if(e.vertical===!0)return null;const s=c.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*s-1} * ${e.thumbSize} / 2 + ${50-100*s}%))`}}function Ve(t){const s=l(()=>S.value===!1&&(b.value===t.focusValue||b.value==="both")?" q-slider--focus":""),v=l(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${M.value===!0?"rtl":"ltr"} absolute non-selectable`+s.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),f=l(()=>({width:e.thumbSize,height:e.thumbSize,[A.value]:`${100*t.ratio.value}%`,zIndex:b.value===t.focusValue?2:void 0})),C=l(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),w=l(()=>De(t.ratio.value)),j=l(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const X=[k("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[k("path",{d:e.thumbPath})]),k("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(X.push(k("div",{class:Se.value+" absolute fit no-pointer-events"+C.value},[k("div",{class:xe.value,style:{minWidth:e.thumbSize}},[k("div",{class:Me.value,style:w.value},[k("span",{class:j.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&d(X,"push")),k("div",{class:v.value,style:f.value,...t.getNodeData()},X)}}function Oe(t,s,v,f){const C=[];e.innerTrackColor!=="transparent"&&C.push(k("div",{key:"inner",class:Le.value,style:te.value})),e.selectionColor!=="transparent"&&C.push(k("div",{key:"selection",class:Ce.value,style:t.value})),e.markers!==!1&&C.push(k("div",{key:"marker",class:ke.value,style:Te.value})),f(C);const w=[Qe("div",{key:"trackC",class:ye.value,tabindex:s.value,...v.value},[k("div",{class:qe.value,style:we.value},C)],"slide",p.value,()=>Re.value)];if(e.markerLabels!==!1){const j=e.switchMarkerLabelsSide===!0?"unshift":"push";w[j](k("div",{key:"markerL",class:$e.value},Ae()))}return w}return Ue(()=>{document.removeEventListener("mouseup",O,!0)}),{state:{active:y,focus:b,preventFocus:S,dragging:h,editable:p,classes:ge,tabindex:pe,attributes:he,step:L,decimals:x,trackLen:E,innerMin:$,innerMinRatio:F,innerMax:q,innerMaxRatio:P,positionProp:A,sizeProp:J,isReversed:M},methods:{onActivate:Ne,onMobileClick:Ie,onBlur:ue,onKeyup:Pe,getContent:Oe,getThumbRenderFn:Ve,convertRatioToModel:_e,convertModelToRatio:D,getDraggingRatio:Be}}}const vt=()=>({});var pt=Ge({name:"QSlider",props:{...it,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:ct,setup(a,{emit:r}){const{proxy:{$q:u}}=fe(),{state:o,methods:e}=dt({updateValue:g,updatePosition:M,getDragging:I,formAttrs:tt(a)}),n=_(null),i=_(0),c=_(0);function m(){c.value=a.modelValue===null?o.innerMin.value:B(a.modelValue,o.innerMin.value,o.innerMax.value)}We(()=>`${a.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,m),m();const d=l(()=>e.convertModelToRatio(c.value)),y=l(()=>o.active.value===!0?i.value:d.value),S=l(()=>{const p={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(y.value-o.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(p.backgroundImage=`url(${a.selectionImg}) !important`),p}),b=e.getThumbRenderFn({focusValue:!0,getNodeData:vt,ratio:y,label:l(()=>a.labelValue!==void 0?a.labelValue:c.value),thumbColor:l(()=>a.thumbColor||a.color),labelColor:l(()=>a.labelColor),labelTextColor:l(()=>a.labelTextColor)}),h=l(()=>o.editable.value!==!0?{}:u.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:$,onBlur:e.onBlur,onKeydown:q,onKeyup:e.onKeyup});function g(p){c.value!==a.modelValue&&r("update:modelValue",c.value),p===!0&&r("change",c.value)}function I(){return n.value.getBoundingClientRect()}function M(p,x=o.dragging.value){const L=e.getDraggingRatio(p,x);c.value=e.convertRatioToModel(L),i.value=a.snap!==!0||a.step===0?L:e.convertModelToRatio(c.value)}function $(){o.focus.value=!0}function q(p){if(!me.includes(p.keyCode))return;ve(p);const x=([34,33].includes(p.keyCode)?10:1)*o.step.value,L=([34,37,40].includes(p.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*x;c.value=B(parseFloat((c.value+L).toFixed(o.decimals.value)),o.innerMin.value,o.innerMax.value),g()}return()=>{const p=e.getContent(S,o.tabindex,h,x=>{x.push(b())});return k("div",{ref:n,class:o.classes.value+(a.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":a.modelValue},p)}}});export{pt as Q,ot as T,Ze as a,B as b,et as c,mt as d,at as e,Je as u};
